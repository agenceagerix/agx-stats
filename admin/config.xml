<?xml version="1.0" encoding="UTF-8"?>
<config>
    <help key="JoomlaHits:_Options"/>
    <inlinehelp button="show"/>
    
    <!-- Include CSS and JS for better API key management -->
    <fieldset name="assets" hidden="true">
        <field name="config_css" type="spacer" 
               label="&lt;link rel='stylesheet' href='components/com_joomlahits/admin/config.css'&gt;"
               description="API Key styling" />
        <field name="config_js" type="spacer" 
               label="&lt;script src='components/com_joomlahits/admin/config.js'&gt;&lt;/script&gt;"
               description="API Key functionality" />
    </fieldset>
    
    <fieldset 
        name="dashboard" 
        label="COM_JOOMLAHITS_CONFIG_DASHBOARD_LABEL" 
        description="COM_JOOMLAHITS_CONFIG_DASHBOARD_DESC">
        
        <field
            name="dashboard_items_per_page"
            type="number"
            label="COM_JOOMLAHITS_CONFIG_DASHBOARD_ITEMS_LABEL"
            description="COM_JOOMLAHITS_CONFIG_DASHBOARD_ITEMS_DESC"
            default="10"
            min="5"
            max="50"
            step="5"
            filter="integer"/>

        <field
            name="show_language_stats"
            type="radio"
            layout="joomla.form.field.radio.switcher"
            label="COM_JOOMLAHITS_CONFIG_SHOW_LANGUAGE_STATS_LABEL"
            description="COM_JOOMLAHITS_CONFIG_SHOW_LANGUAGE_STATS_DESC"
            default="1">
            <option value="0">JHIDE</option>
            <option value="1">JSHOW</option>
        </field>

        <field
            name="show_category_stats"
            type="radio"
            layout="joomla.form.field.radio.switcher"
            label="COM_JOOMLAHITS_CONFIG_SHOW_CATEGORY_STATS_LABEL"
            description="COM_JOOMLAHITS_CONFIG_SHOW_CATEGORY_STATS_DESC"
            default="1">
            <option value="0">JHIDE</option>
            <option value="1">JSHOW</option>
        </field>

        <field
            name="show_monthly_stats"
            type="radio"
            layout="joomla.form.field.radio.switcher"
            label="COM_JOOMLAHITS_CONFIG_SHOW_MONTHLY_STATS_LABEL"
            description="COM_JOOMLAHITS_CONFIG_SHOW_MONTHLY_STATS_DESC"
            default="1">
            <option value="0">JHIDE</option>
            <option value="1">JSHOW</option>
        </field>

        <field
            name="max_languages_display"
            type="number"
            label="COM_JOOMLAHITS_CONFIG_MAX_LANGUAGES_LABEL"
            description="COM_JOOMLAHITS_CONFIG_MAX_LANGUAGES_DESC"
            default="4"
            min="1"
            max="10"
            step="1"
            filter="integer"
            showon="show_language_stats:1"/>

    </fieldset>

    <fieldset 
        name="ai_provider" 
        label="COM_JOOMLAHITS_CONFIG_AI_PROVIDER_LABEL" 
        description="COM_JOOMLAHITS_CONFIG_AI_PROVIDER_DESC">
        
        <field
            name="ai_provider"
            type="list"
            label="COM_JOOMLAHITS_CONFIG_AI_PROVIDER_LABEL"
            description="COM_JOOMLAHITS_CONFIG_AI_PROVIDER_DESC"
            default="mistral">
            <option value="mistral">Mistral AI</option>
            <option value="openai">OpenAI</option>
        </field>
        
        <field
            name="mistral_api_key"
            type="password"
            label="COM_JOOMLAHITS_CONFIG_MISTRAL_API_KEY_LABEL"
            description="COM_JOOMLAHITS_CONFIG_MISTRAL_API_KEY_DESC"
            filter="raw"
            autocomplete="off"
            showon="ai_provider:mistral"/>
        
        <field
            name="openai_api_key"
            type="text"
            label="COM_JOOMLAHITS_CONFIG_OPENAI_API_KEY_LABEL"
            description="COM_JOOMLAHITS_CONFIG_OPENAI_API_KEY_DESC"
            filter="raw"
            autocomplete="off"
            showon="ai_provider:openai"/>
        
        <field
            name="openai_model"
            type="list"
            label="COM_JOOMLAHITS_CONFIG_OPENAI_MODEL_LABEL"
            description="COM_JOOMLAHITS_CONFIG_OPENAI_MODEL_DESC"
            default="gpt-4o-mini"
            showon="ai_provider:openai">
            <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
            <option value="gpt-4o-mini">GPT-4o Mini</option>
            <option value="gpt-4o">GPT-4o</option>
            <option value="gpt-4.1">GPT-4.1</option>
            <option value="gpt-4.1-mini">GPT-4.1 Mini</option>
        </field>
        
        <field
            name="ai_prompt_title"
            type="textarea"
            label="COM_JOOMLAHITS_CONFIG_AI_PROMPT_TITLE_LABEL"
            description="COM_JOOMLAHITS_CONFIG_AI_PROMPT_TITLE_DESC"
            rows="6"
            cols="80"
            filter="raw"
            default="You are an SEO expert. Generate ONLY an SEO-optimized title for this article. Strict rules: between {minTitleLength}-{maxTitleLength} characters, catchy, with main keywords. Reply ONLY with the title, without quotes or explanation. Current title: {title}; Content: {content}; Language: {language}"/>
        
        <field
            name="ai_prompt_metadesc"
            type="textarea"
            label="COM_JOOMLAHITS_CONFIG_AI_PROMPT_METADESC_LABEL"
            description="COM_JOOMLAHITS_CONFIG_AI_PROMPT_METADESC_DESC"
            rows="6"
            cols="80"
            filter="raw"
            default="You are an SEO expert. Generate ONLY an optimized meta description for this article. Strict rules: between {minMetaLength}-{maxMetaLength} characters, click-worthy, summarizes content. Reply ONLY with the meta description, without quotes or explanation. Title: {title} Content: {content} Language: {language}"/>
        
        <field
            name="ai_prompt_metakey"
            type="textarea"
            label="COM_JOOMLAHITS_CONFIG_AI_PROMPT_METAKEY_LABEL"
            description="COM_JOOMLAHITS_CONFIG_AI_PROMPT_METAKEY_DESC"
            rows="6"
            cols="80"
            filter="raw"
            default="You are an SEO expert. Generate ONLY meta keywords for this article. Strict rules: 5-8 relevant keywords, separated by commas. Reply ONLY with the keyword list, without quotes or explanation. Title: {title}; Content: {content} Language: {language}"/>
        
        <field
            name="ai_prompt_image"
            type="textarea"
            label="COM_JOOMLAHITS_CONFIG_AI_PROMPT_IMAGE_LABEL"
            description="COM_JOOMLAHITS_CONFIG_AI_PROMPT_IMAGE_DESC"
            rows="8"
            cols="80"
            filter="raw"
            default="SYSTEM: You are a web accessibility and SEO expert. Your mission is to correct ONLY the missing or empty alt attributes in the img tags.
STRICT INSTRUCTIONS:

You will receive a list of &lt;img&gt; tags that have missing or empty alt attributes.
For each tag, generate a descriptive and relevant alt attribute.
Base yourself on the article's title and meta description for context.
Return ONLY the corrected &lt;img&gt; tags, one per line.
Preserve all other existing attributes (src, class, style, etc.).
The alt attribute should be descriptive but concise (50-125 characters).

ARTICLE CONTEXT:
Title: {title}
Description: {metadesc}
Language: {language}
IMG TAGS TO CORRECT:
{images}
Respond with the corrected tags in the same order, one per line:"/>
        
    </fieldset>

    <fieldset 
        name="ai_toggles" 
        label="COM_JOOMLAHITS_CONFIG_AI_TOGGLES_LABEL" 
        description="COM_JOOMLAHITS_CONFIG_AI_TOGGLES_DESC">
        
        <field
            name="ai_enable_title"
            type="radio"
            layout="joomla.form.field.radio.switcher"
            label="COM_JOOMLAHITS_CONFIG_AI_ENABLE_TITLE_LABEL"
            description="COM_JOOMLAHITS_CONFIG_AI_ENABLE_TITLE_DESC"
            default="1">
            <option value="0">JNO</option>
            <option value="1">JYES</option>
        </field>
        
        <field
            name="ai_enable_metadesc"
            type="radio"
            layout="joomla.form.field.radio.switcher"
            label="COM_JOOMLAHITS_CONFIG_AI_ENABLE_METADESC_LABEL"
            description="COM_JOOMLAHITS_CONFIG_AI_ENABLE_METADESC_DESC"
            default="1">
            <option value="0">JNO</option>
            <option value="1">JYES</option>
        </field>
        
        <field
            name="ai_enable_metakey"
            type="radio"
            layout="joomla.form.field.radio.switcher"
            label="COM_JOOMLAHITS_CONFIG_AI_ENABLE_METAKEY_LABEL"
            description="COM_JOOMLAHITS_CONFIG_AI_ENABLE_METAKEY_DESC"
            default="1">
            <option value="0">JNO</option>
            <option value="1">JYES</option>
        </field>
        
        <field
            name="ai_enable_content_images"
            type="radio"
            layout="joomla.form.field.radio.switcher"
            label="COM_JOOMLAHITS_CONFIG_AI_ENABLE_CONTENT_IMAGES_LABEL"
            description="COM_JOOMLAHITS_CONFIG_AI_ENABLE_CONTENT_IMAGES_DESC"
            default="1">
            <option value="0">JNO</option>
            <option value="1">JYES</option>
        </field>
        
    </fieldset>

    <fieldset 
        name="seoanalysis" 
        label="COM_JOOMLAHITS_CONFIG_SEOANALYSIS_LABEL" 
        description="COM_JOOMLAHITS_CONFIG_SEOANALYSIS_DESC">
        
        <field
            name="seo_analyze_all_categories"
            type="radio"
            label="COM_JOOMLAHITS_CONFIG_SEO_ANALYZE_ALL_LABEL"
            description="COM_JOOMLAHITS_CONFIG_SEO_ANALYZE_ALL_DESC"
            layout="joomla.form.field.radio.switcher"
            default="1">
            <option value="0">JNO</option>
            <option value="1">JYES</option>
        </field>

        <field
            name="seo_categories"
            type="category"
            extension="com_content"
            multiple="true"
            label="COM_JOOMLAHITS_CONFIG_SEO_CATEGORIES_LABEL"
            description="COM_JOOMLAHITS_CONFIG_SEO_CATEGORIES_DESC"
            layout="joomla.form.field.list-fancy-select"
            show_root="false"
            default=""
            showon="seo_analyze_all_categories:0">
        </field>

        <field
            name="seo_detect_all_issues"
            type="radio"
            label="COM_JOOMLAHITS_CONFIG_SEO_DETECT_ALL_LABEL"
            description="COM_JOOMLAHITS_CONFIG_SEO_DETECT_ALL_DESC"
            layout="joomla.form.field.radio.switcher"
            default="1">
            <option value="0">JNO</option>
            <option value="1">JYES</option>
        </field>

        <field
            name="seo_critical_issues"
            type="checkboxes"
            label="COM_JOOMLAHITS_CONFIG_SEO_CRITICAL_ISSUES_LABEL"
            description="COM_JOOMLAHITS_CONFIG_SEO_CRITICAL_ISSUES_DESC"
            default="title_missing,meta_desc_missing"
            showon="seo_detect_all_issues:0">
            <option value="title_missing">COM_JOOMLAHITS_CONFIG_SEO_ISSUE_TITLE_MISSING</option>
            <option value="title_too_short">COM_JOOMLAHITS_CONFIG_SEO_ISSUE_TITLE_SHORT</option>
            <option value="title_too_long">COM_JOOMLAHITS_CONFIG_SEO_ISSUE_TITLE_LONG</option>
            <option value="meta_desc_missing">COM_JOOMLAHITS_CONFIG_SEO_ISSUE_META_MISSING</option>
            <option value="meta_desc_too_short">COM_JOOMLAHITS_CONFIG_SEO_ISSUE_META_SHORT</option>
            <option value="meta_desc_too_long">COM_JOOMLAHITS_CONFIG_SEO_ISSUE_META_LONG</option>
            <option value="meta_keywords_missing">COM_JOOMLAHITS_CONFIG_SEO_ISSUE_METAKEY_MISSING</option>
            <option value="missing_h1">COM_JOOMLAHITS_CONFIG_SEO_ISSUE_H1_MISSING</option>
            <option value="missing_alt_tags">COM_JOOMLAHITS_CONFIG_SEO_ISSUE_ALT_MISSING</option>
            <option value="content_too_short">COM_JOOMLAHITS_CONFIG_SEO_ISSUE_CONTENT_SHORT</option>
        </field>

        <field
            name="seo_min_title_length"
            type="number"
            label="COM_JOOMLAHITS_CONFIG_SEO_MIN_TITLE_LENGTH_LABEL"
            description="COM_JOOMLAHITS_CONFIG_SEO_MIN_TITLE_LENGTH_DESC"
            default="30"
            min="10"
            max="50"
            step="1"
            filter="integer"/>

        <field
            name="seo_max_title_length"
            type="number"
            label="COM_JOOMLAHITS_CONFIG_SEO_MAX_TITLE_LENGTH_LABEL"
            description="COM_JOOMLAHITS_CONFIG_SEO_MAX_TITLE_LENGTH_DESC"
            default="60"
            min="50"
            max="100"
            step="1"
            filter="integer"/>

        <field
            name="seo_min_meta_length"
            type="number"
            label="COM_JOOMLAHITS_CONFIG_SEO_MIN_META_LENGTH_LABEL"
            description="COM_JOOMLAHITS_CONFIG_SEO_MIN_META_LENGTH_DESC"
            default="120"
            min="50"
            max="150"
            step="1"
            filter="integer"/>

        <field
            name="seo_max_meta_length"
            type="number"
            label="COM_JOOMLAHITS_CONFIG_SEO_MAX_META_LENGTH_LABEL"
            description="COM_JOOMLAHITS_CONFIG_SEO_MAX_META_LENGTH_DESC"
            default="160"
            min="150"
            max="200"
            step="1"
            filter="integer"/>

        <field
            name="seo_min_content_length"
            type="number"
            label="COM_JOOMLAHITS_CONFIG_SEO_MIN_CONTENT_LENGTH_LABEL"
            description="COM_JOOMLAHITS_CONFIG_SEO_MIN_CONTENT_LENGTH_DESC"
            default="300"
            min="100"
            max="1000"
            step="50"
            filter="integer"/>

    </fieldset>

    <fieldset 
        name="permissions" 
        label="JCONFIG_PERMISSIONS_LABEL" 
        description="JCONFIG_PERMISSIONS_DESC">
        
        <field
            name="rules"
            type="rules"
            label="JCONFIG_PERMISSIONS_LABEL"
            filter="rules"
            validate="rules"
            component="com_joomlahits"
            section="component"/>
        
    </fieldset>

</config>